@model EmployeeManagement.Models.emp

<script src="../../Scripts/jquery-1.10.2.js" type="text/javascript"></script>
    <script>
        $(document).ready(function () {

         
            var baseUrl = 'http://localhost:49688/api/Emp/';
            //Display data
            $("#Show").click(function () {
                $.ajax({
                    url: baseUrl,
                    type: 'GET',
                    dataType: 'json',
                    success: function (data, textStatus, xhr) {
                        console.log(data);
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log('Error in Operation');
                    }
                });
            });
       
   
   
            //create new record
            $("#Create").click(function () {
                var emp = new Object();
                emp.Id = $('#Id').val();
                emp.Name = $('#Name').val();
                emp.Age = $('#Age').val();
                emp.Salary = $('#Salary').val();
                emp.Department = $('#Department').val();
                $.ajax({
                    url: baseUrl,
                    type: 'POST',
                    dataType: 'json',
                    data: emp,
                    success: function (data, textStatus, xhr) {
                        console.log(data);
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log('Error in Operation');
                    }
                });
            });
      
   
   
             //Update data
            $("#Update").click(function () {

            var emp = new Object();
            emp.Id = $('#Id').val();
            emp.Name = $('#Name').val();
            emp.Age = $('#Age').val();
            emp.Salary = $('#Salary').val();
            emp.Department = $('#Department').val();
            console.log(emp.Id)
            var updateUrl = new URL(emp.Id, baseUrl);
                $.ajax({
                    url:updateUrl,
                    type: 'PUT',
                    dataType: 'json',
                    data: emp,
                    success: function (data, textStatus, xhr) {
                        console.log(data);
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log('Error in Operation');
                        console.log(errorThrown);
                        console.log(textStatus);
                    }
                });
            });
    
        
       
            //Delete data
            $("#Delete").click(function () {
                var emp = new Object();
                emp.Id = $('#Id').val();
                var deleteUrl = new URL(emp.Id, baseUrl);
                $.ajax({
                    url: deleteUrl,
                    type: 'DELETE',
                    dataType: 'json',
                    data: emp,
                    success: function (data, textStatus, xhr) {
                        console.log(data);
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log('Error in Operation');
                    }
                });
            });
        
        });

   </script>
</head>
  
<body>
    
    <h1 class="jumbotron">Employee Api</h1>
    <h5>Open console to see the output</h5>
    <form class="form-group">
        <input type="text" id="Id" name="id" placeholder="Id" class="form-control m-t-2" />
        <input type="text" id="Name" name="Name" placeholder="Name" class="form-control m-t-1" />
        <input type="text" id="Age" name="Age" placeholder="Age" class="form-control" />
        <input type="text" id="Salary" name="Salary" placeholder="Salary" class="form-control" />
        <input type="text" id="Department" name="Department" placeholder="Department" class="form-control" />
        <input type="button" id="Create" value="Create" class="btn btn-primary" />
        <input type="button" id="Update" value="Update" class="btn btn-primary" />
        <input type="button" id="Delete" value="Delete" class="btn btn-danger" />
    </form>

    <form id="form1" class="form-group">
        <input type="button" id="Show" value="FetchData" class="btn btn-primary" />
    </form>


</body>  